<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>360 Organic Foodie - Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    
  </style>
</head>
<body>
   <!-- Desktop Navbar (visible on md and up) -->
      <nav class="navbar navbar-expand-md bg-white d-none d-md-flex fixed-top">
        <div class="container-fluid">
          <img src="./images/Foodies logo without Banner 1.png" style="width: 50px; height: 50px" alt="">
          <span class="Navlogo1 d-md-none">360 Organic Foodie</span>

          <div class="collapse navbar-collapse">
            <ul class="navbar-nav me-auto">
              <li class="nav-item">
                <div class="input-group Navborder">
                  <button class="btn btn-outline-secondary border-0" type="button">
                    <i class="fas fa-search"></i>
                  </button>
                  <input type="text" class="form-control border-0" placeholder="Search here...">
                </div>
              </li>
            </ul>

            <form class="d-flex">
              <div class="d-flex align-items-center">
                <button class="text-reset me-3 btnSharp"><i class="fa-solid fa-cart-shopping"></i></button>
                <button class="text-reset me-4 btnSharp position-relative" onclick="toggleNotification(event)">
                  <i class="fas fa-bell"></i>
                  <span id="notificationBadge"
                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                        style="font-size: 0.7rem; display:none;">
                  </span>
                </button>


                <img class="me-3 rounded-circle" src="./images/cheerful-curly-man-with-bristle-points-left-wears-casual-clothes-spectacles 1.png" alt="" width="40" height="40">
                <span class="CustomP-14-400 me-3 text-dark fw-semibold">Michael Owen</span>
              </div>
            </form>
            <!-- notification pop-up  -->
              <div class="col-md-4" id="notificationPopUp">
                  <div class="card p-3" style=" overflow-y: auto;">
                    <h6 class="fw-bold mb-3">Recent Activities in Your City</h6>
                    <ul class="list-unstyled" id="activityFeed"></ul>
                  </div>
              </div>
          </div>
        </div>
      </nav>

      <!-- Mobile Navbar (visible only on sm) -->
      <nav class="navbar bg-white px-3 d-flex justify-content-between align-items-center d-flex d-sm-flex d-md-none">
        <!-- Left side -->
        <div class="d-flex align-items-center">
          <!-- Hamburger -->
          <button class="btn p-0 me-3" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu">
            <i class="fa-solid fa-bars fs-4"></i>
          </button>

          <!-- Search -->
           <div class="search-container">
            <button class="btn p-0" id="mobileSearchBtn" aria-label="Open search">
              <i class="fa-solid fa-magnifying-glass fs-5 text-muted"></i>
            </button>

            <input
              type="text"
              id="mobileSearchInput"
              class="mobile-search-input"
              placeholder="Search dashboard..."
              aria-label="Search dashboard"
            />
          </div>

          <!-- <div class="search-container position-relative">
            <button class="btn p-0" id="mobileSearchBtn">
              <i class="fa-solid fa-magnifying-glass fs-5 text-muted"></i>
            </button>
            <input type="text" id="mobileSearchInput" class="form-control form-control-sm position-absolute"
              placeholder="Search..."
              style="width: 0; opacity: 0; transition: all 0.3s ease; left: 40px; top: 0; z-index: 1000;">
          </div> -->
        </div>

        <!-- Right side -->
        <div class="d-flex align-items-center">
          <!-- Bell -->
          <button class="text-reset me-1 btnSharp position-relative" onclick="toggleNotification(event)">
                  <i class="fas fa-bell"></i>
                  <span id="notificationBadge1"
                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                        style="font-size: 0.7rem; display:none;">
                  </span>
                </button>

          <!-- Profile -->
          <img src="./images/cheerful-curly-man-with-bristle-points-left-wears-casual-clothes-spectacles 1.png"
              class="rounded-circle"
              alt="Profile" width="40" height="40">
        </div>
        <div class="col-md-4" id="notificationPopUp1">
                  <div class="card p-3" style=" overflow-y: auto;">
                    <h6 class="fw-bold mb-3">Recent Activities in Your City</h6>
                    <ul class="list-unstyled" id="activityFeed1"></ul>
                  </div>
              </div>
      </nav>

      <!-- Sidebar (offcanvas for mobile) -->
      <div class="offcanvas offcanvas-start sidebar" tabindex="-1" id="sidebarMenu">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title">Menu</h5>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body p-3">
          <ul class="listItem">
            <li><a href="index.html" class="active" style="text-decoration: none; color: #8D98AF; "><i class="fa-solid fa-house me-3"></i>Dashboard</a></li>
            <li><a href="./orders.html" style="text-decoration: none; color: #8D98AF; "><i class="fa-solid fa-cart-shopping me-3"></i>Orders</a></li>
            <li><a href="./customers.html" style="text-decoration: none; color: #8D98AF; "><i class="fa-solid fa-user me-3"></i>Customers</a></li>
            <li><a href="./inventory.html" style="text-decoration: none; color: #8D98AF; "><i class="fa-solid fa-warehouse me-3"></i>Inventory</a></li>
            <li><a href="./notifications.html" style="text-decoration: none; color: #8D98AF; "><i class="fa-solid fa-bell me-3"></i>Notifications</a></li>
            <hr>
            <li><a href="#" style="text-decoration: none; color: #8D98AF; "><i class="fa-solid fa-message me-3"></i>Reviews</a></li>
            <li><a href="#" style="text-decoration: none; color: #8D98AF; "><i class="fa-solid fa-gear me-3"></i>Settings</a></li>
            <li><a onclick="logOut()" style="cursor:pointer; text-decoration: none; color: #8D98AF"><i class="fa-solid fa-arrow-right-from-bracket me-3"></i>Logout</a></li>
          </ul>
        </div>
      </div>


    <div class="container-fluid ">
    <div class="row">
        <!-- Sidebar -->
         <div class="col-md-2 sidebar d-md-block d-none">
          <ul class="listItem">
            <li>
              <a href="index.html" class="nav-link">
                <i class="fa-solid fa-house me-lg-3 me-md-1"></i>
                <span>Dashboard</span>
              </a>
            </li>
            <li>
              <a href="orders.html" class="nav-link">
                <i class="fa-solid fa-cart-shopping me-lg-3 me-md-1"></i>
                <span>Orders</span>
              </a>
            </li>
            <li>
              <a href="customers.html" class="nav-link">
                <i class="fa-solid fa-user me-lg-3 me-md-1"></i>
                <span>Customers</span>
              </a>
            </li>
            <li>
              <a href="inventory.html" class="nav-link">
                <i class="fa-solid fa-warehouse me-lg-3 me-md-1"></i>
                <span>Inventory</span>
              </a>
            </li>
            <li>
              <a href="notifications.html" class="nav-link">
                <i class="fa-solid fa-bell me-lg-3 me-md-1"></i>
                <span>Notifications</span>
              </a>
            </li>
            <hr>
            <li>
              <a href="#" class="nav-link">
                <i class="fa-solid fa-message me-lg-3 me-md-1"></i>
                <span>Reviews</span>
              </a>
            </li>
            <li>
              <a href="#" class="nav-link">
                <i class="fa-solid fa-gear me-lg-3 me-md-1"></i>
                <span>Settings</span>
              </a>
            </li>
            <li class="mt-5">
              <a href="#" class="nav-link  Dashbutton" onclick="logOut()">
                <i class="fa-solid fa-arrow-right-from-bracket me-lg-3 me-md-1"></i>
                <span>Logout</span>
              </a>
            </li>
          </ul>
        </div>

        <!-- Main Content -->
        <div class="col-md-10 p-4">
            <section class="OrderSecT" >
                <h1>orders</h1>
                <!-- order section NAV  -->
                <ul class="nav ">
                    <li class="nav-item me-5">
                        <a class="nav-link"  aria-current="page" href="" onclick="AllorderTable(event)">All Orders</a>
                    </li>
                    <li class="nav-item me-5">
                        <a class="nav-link" href="#" onclick="PendingorderTable(event)">Pending Orders</a>
                    </li>
                    <li class="nav-item me-5">
                        <a class="nav-link" href="#" onclick="deliveredgorderTable(event)">Delivered Order</a>
                    </li>
                    <li class="nav-item me-5">
                        <a class="nav-link " aria-disabled="true" onclick="cancelorderTable(event)">Cancelled Order</a>
                    </li>
                </ul>

                <!-- all order section -->             
                <section id="AllorderTable">
                    <div class="table-responsive-lg">  
                    <table class="table mt-3 align-middle table-lg "  id="Allordertable">
                        
                        <thead class="">
                            <tr>
                                <th><i class="fa-solid fa-bars me-2" style="color: #1968F0;"></i>Order Id</th>
                                <th><i class="fa-regular fa-calendar me-2" style="color: #ECA918;"></i>Ordered Date</th>
                                <th><i class="fa-solid fa-warehouse me-2" style="color: #EEAD20;"></i>Product Name</th>
                                <th><i class="fa-solid fa-location-dot me-2" style="color: #9BACCA;"></i>City</th>
                                <th><i class="fa-solid fa-signal me-2" style="color: #74C0FC;"></i>status</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mt-3">
                        <small id="paginationInfo" class="text-muted">Showing 1 to 10 Items</small>
                        <nav>
                            <ul class="pagination pagination-sm mb-0" id="pagination"></ul>
                        </nav>
                    </div>
                </section> 
    

            
            </section>

            <!-- pending order section -->
            <!-- <section id="PendingorderTable">
                <table class="table mt-3">
                    <thead class="">
                        <tr>
                            <th><i class="fa-solid fa-bars me-2" style="color: #1968f0;"></i>Order Id</th>
                            <th><i class="fa-regular fa-calendar me-2" style="color: #eca918;"></i>Ordered Date</th>
                            <th><i class="fa-solid fa-warehouse me-2" style="color: #eead20;"></i>Product Name</th>
                            <th><i class="fa-solid fa-location-dot me-2" style="color: #9bacca;"></i>Location</th>
                            <th><i class="fa-solid fa-signal me-2" style="color: #74C0FC;"></i>status</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td>#123245</td>
                            <td>14-12-2022</td>
                            <td>Berry Bliss Bites</td>
                            <td>Ikeja</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>
                        </tr>
                        <tr>
                            <td>#875458</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Somolu</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>
                        </tr>
                        <tr>
                            <td>#125478</td>
                            <td>21-05-2021</td>
                            <td>Berry Bliss Bites</td>
                            <td>Oshodi</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>

                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>

                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #260af5;"></i>Pending</td>
                        </tr>
                    </tbody>
                </table>
                <div class="d-flex align-items-center justify-content-between">
                    <span class="PaginaTION">Showing 1 to 10 items</span>
                    <nav aria-label="Page navigation example">
                        <ul class="pagination">
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item"><a class="page-link" href="#">4</a></li>
                                <li class="page-item"><a class="page-link" href="#">5</a></li>
                                <li class="page-item">
                                <a class="page-link" href="#" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </section> -->

            <!-- delivered order section -->
            <!-- <section id="deliveredgorderTable">
                <table class="table mt-3">
                    <thead class="">
                        <tr>
                            <th><i class="fa-solid fa-bars me-2" style="color: #1968f0;"></i>Order Id</th>
                            <th><i class="fa-regular fa-calendar me-2" style="color: #eca918;"></i>Ordered Date</th>
                            <th><i class="fa-solid fa-warehouse me-2" style="color: #eead20;"></i>Product Name</th>
                            <th><i class="fa-solid fa-location-dot me-2" style="color: #9bacca;"></i>Location</th>
                            <th><i class="fa-solid fa-signal me-2" style="color: #74C0FC;"></i>status</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td>#123245</td>
                            <td>14-12-2022</td>
                            <td>Berry Bliss Bites</td>
                            <td>Ikeja</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>
                        </tr>
                        <tr>
                            <td>#875458</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Somolu</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>
                        </tr>
                        <tr>
                            <td>#125478</td>
                            <td>21-05-2021</td>
                            <td>Berry Bliss Bites</td>
                            <td>Oshodi</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>

                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>

                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>
                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-circle-check me-2" style="color: #64cb10;"></i>delivered</td>
                        </tr>
                    </tbody>
                </table>
                <div class="d-flex align-items-center justify-content-between">
                    <span class="PaginaTION">Showing 1 to 10 items</span>
                    <nav aria-label="Page navigation example">
                        <ul class="pagination">
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item"><a class="page-link" href="#">4</a></li>
                                <li class="page-item"><a class="page-link" href="#">5</a></li>
                                <li class="page-item">
                                <a class="page-link" href="#" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </section> -->

            <!-- cancelled order section -->
            <!-- <section id="cancelorderTable">
                <table class="table mt-3">
                    <thead class="">
                        <tr>
                            <th><i class="fa-solid fa-bars me-2" style="color: #1968f0;"></i>Order Id</th>
                            <th><i class="fa-regular fa-calendar me-2" style="color: #eca918;"></i>Ordered Date</th>
                            <th><i class="fa-solid fa-warehouse me-2" style="color: #eead20;"></i>Product Name</th>
                            <th><i class="fa-solid fa-location-dot me-2" style="color: #9bacca;"></i>Location</th>
                            <th><i class="fa-solid fa-signal me-2" style="color: #74C0FC;"></i>status</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td>#123245</td>
                            <td>14-12-2022</td>
                            <td>Berry Bliss Bites</td>
                            <td>Ikeja</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>

                        </tr>
                        <tr>
                            <td>#875458</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Somolu</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>

                        </tr>
                        <tr>
                            <td>#125478</td>
                            <td>21-05-2021</td>
                            <td>Berry Bliss Bites</td>
                            <td>Oshodi</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>

                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>

                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>

                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>


                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>

                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>


                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>

                        </tr>
                        <tr>
                            <td>#248759</td>
                            <td>21-05-2021</td>
                            <td>Organic Almond Delight</td>
                            <td>Ibeju-Lekki</td>
                            <td><i class="fa-solid fa-ban me-2" style="color: #c8142f;"></i>Cancelled</td>

                        </tr>
                    </tbody>
                </table>
                <div class="d-flex align-items-center justify-content-between">
                    <span class="PaginaTION">Showing 1 to 10 items</span>
                    <nav aria-label="Page navigation example">
                        <ul class="pagination">
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item"><a class="page-link" href="#">4</a></li>
                                <li class="page-item"><a class="page-link" href="#">5</a></li>
                                <li class="page-item">
                                <a class="page-link" href="#" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </section> -->

            <!-- <div class="row">
                <div class="col-sm-12 col-md-4 col-lg-4 ">
                    <div class="card shadow border-0">
                        <img src="./images/Image1.png" alt="">
                        <div class="p-3">
                        <p>Berry Bliss Bites</p>
                        <div class="d-flex align-items-center justify-content-between">
                            <p>Quantity - 1</p>
                            <p>750</p>
                        </div>
                        </div>
                    </div>
                    <div class="card shadow border-0 mt-3">
                        <img src="./images/Image3.png" alt="">
                        <div class="p-3">
                        <p>Berry Bliss Bites</p>
                        <div class="d-flex align-items-center justify-content-between">
                            <p>Quantity - 1</p>
                            <p>750</p>
                        </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-12 col-md-4 col-lg-4 ">
                    <div class="card shadow border-0">
                        <img src="./images/image 13.png" alt="">
                        <div class="p-3">
                        <p>Berry Bliss Bites</p>
                        <div class="d-flex align-items-center justify-content-between">
                            <p>Quantity - 1</p>
                            <p>750</p>
                        </div>
                        </div>
                    </div>
                    <div class="card shadow border-0 mt-3">
                        <img src="./images/image 11.png" alt="">
                        <div class="p-3">
                        <p>Berry Bliss Bites</p>
                        <div class="d-flex align-items-center justify-content-between">
                            <p>Quantity - 1</p>
                            <p>750</p>
                        </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-12 col-md-4 col-lg-4 shadow">
                <div class="d-flex align-items-center justify-content-between mt-3">
                        <h6>Customer Information</h6>
                        <i class="fa-solid fa-ellipsis" style="color: #cbd3e1;"></i>
                </div>
                    <div class="text-center">
                        <img src="./images/Image (6).png" alt="">
                        <h5>Michael Owen</h5>
                        <p>saikatkr034@gmail.com</p>
                        <p>+234 7047 487 899</p>
                        </div>
                        <hr>
                        <div class="div">
                            <h5>Shipping Address</h5>
                            <p>39, Maryland Shopping Mall<br> ikeja lagos Nigeria</p>
                        </div>
                        <div class="div">
                            <h5>Billing Address</h5>
                            <p>39, Maryland Shopping Mall<br> ikeja lagos Nigeria</p>
                        </div>
                </div>


            </div> -->
        </div>
    </div>
    </div>

    <div class="modal fade" id="orderModal" tabindex="-1" aria-labelledby="orderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content border-0 shadow">
            <div class="modal-header border-0">
                <h5 class="modal-title fw-bold" id="orderModalLabel">Order Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="orderDetailsContent"></div>
            </div>
            </div>
        </div>
    </div>



    <!-- ORDER RENDERING(TABLE) AND DETAILS for each orders -->
    <script>
        document.addEventListener("DOMContentLoaded", loadDistributorOrders);

        let allOrders = [];
        let currentPage = 1;
        const pageSize = 10;

        async function loadDistributorOrders() {
        console.log("âœ… Loading distributor orders...");
        try {
            const distributorCity = localStorage.getItem("city");
            if (!distributorCity) {
            console.warn("No distributor city found in localStorage");
            return;
            }

            const response = await fetch("http://localhost:3001/amazon/document/api/orders");
            if (!response.ok) throw new Error("Failed to fetch orders");
            const orders = await response.json();

            allOrders = orders.filter(
            order =>
                order.customerSnapshot?.city?.toLowerCase() ===
                distributorCity.toLowerCase()
            );

            window.currentOrders = allOrders;
            renderTable();
            renderPagination();
        } catch (error) {
            console.error("ðŸ”¥ Error loading distributor orders:", error);
        }
        }

        function renderTable() {
        const tbody = document.querySelector("#Allordertable tbody");
        tbody.innerHTML = "";

        if (allOrders.length === 0) {
            tbody.innerHTML = `<tr><td colspan="5" class="text-center text-muted">No orders in your city</td></tr>`;
            document.getElementById("paginationInfo").textContent = "";
            return;
        }

        const start = (currentPage - 1) * pageSize;
        const end = start + pageSize;
        const pageData = allOrders.slice(start, end);

        pageData.forEach((order) => {
            const row = document.createElement("tr");
            row.setAttribute("data-order-id", order._id);

            const productNames =
            order.items?.map((item) => item.name || "Unnamed").join(", ") || "N/A";

            row.innerHTML = `
            <td>${order._id || "N/A"}</td>
            <td>${new Date(order.createdAt).toLocaleDateString() || "N/A"}</td>
            <td>${productNames}</td>
            <td>${order.customerSnapshot?.city || "N/A"}</td>
            <td>${order.deliveryStatus || "N/A"}</td>
            `;
            tbody.appendChild(row);
        });

        // Update "Showing X to Y" text
        const info = document.getElementById("paginationInfo");
        info.textContent = `Showing ${start + 1} to ${Math.min(
            end,
            allOrders.length
        )} Items`;
        }

        function renderPagination() {
        const totalPages = Math.ceil(allOrders.length / pageSize);
        const pagination = document.getElementById("pagination");
        pagination.innerHTML = "";

        if (totalPages <= 1) {
            pagination.style.display = "none";
            return;
        } else {
            pagination.style.display = "flex";
        }

        const createPageItem = (page, label, disabled = false, active = false) => `
            <li class="page-item ${disabled ? "disabled" : ""} ${
            active ? "active bg-success" : ""
        }">
            <a class="page-link" href="#" data-page="${page}">${label}</a>
            </li>
        `;

        // Prev
        pagination.innerHTML += createPageItem(
            currentPage - 1,
            "&lt;",
            currentPage === 1
        );

        // Pages
        for (let i = 1; i <= totalPages; i++) {
            pagination.innerHTML += createPageItem(i, i, false, i === currentPage);
        }

        // Next
        pagination.innerHTML += createPageItem(
            currentPage + 1,
            "&gt;",
            currentPage === totalPages
        );

        // Click handling
        pagination.querySelectorAll("a").forEach((btn) => {
            btn.addEventListener("click", (e) => {
            e.preventDefault();
            const page = parseInt(btn.dataset.page);
            if (page >= 1 && page <= totalPages && page !== currentPage) {
                currentPage = page;
                renderTable();
                renderPagination();
            }
            });
        });
        }

        // âœ… Show Order Modal
        function showOrderModal(order) {
        const modalContent = document.getElementById("orderDetailsContent");
        const customer = order.customerSnapshot || {};

        const itemsHTML = order.items
            .map(
            (item) => `
            <div class="col-md-6 mb-4">
                <div class="card product-card">
                <img src="${
                    item.image ||
                    "https://via.placeholder.com/400x300?text=No+Image"
                }" class="card-img-top" alt="${item.name}">
                <div class="card-body">
                    <h6 class="fw-bold mb-1">${item.name}</h6>
                    <p class="text-muted small mb-1">Quantity â€“ ${item.quantity || 1}</p>
                    <h6 class="text-success fw-semibold">â‚¦${
                    item.price?.toLocaleString() || 0
                    }</h6>
                </div>
                </div>
            </div>`
            )
            .join("");

        modalContent.innerHTML = `
            <div class="order-header d-flex justify-content-between align-items-center">
            <div><strong>#${order._id}</strong></div>
            <div>
                <span class="badge ${
                order.deliveryStatus === "Delivered"
                    ? "bg-success"
                    : "bg-warning text-dark"
                }">${order.deliveryStatus || "Pending"}</span>
            </div>
            </div>
            <div class="row g-4">
            <div class="col-lg-8"><div class="row">${itemsHTML}</div></div>
            <div class="col-lg-4">
                <div class="card customer-card p-3">
                <h6 class="fw-bold mb-3">Customer Information</h6>
                <div class="text-center customer-info">
                    <img src="${
                    customer.profileImage ||
                    "https://thumbs.dreamstime.com/b/default-avatar-profile-icon-social-media-user-vector-image-182145777.jpg"
                    }" alt="Customer photo">
                    <h6>${customer.firstName || "Unknown Customer"}</h6>
                    <p>${customer.email || "No email provided"}</p>
                    <p>${customer.phone || "No phone number"}</p>
                </div>
                <hr>
                <div>
                    <p><strong>Shipping Address</strong><br>${customer.address || "N/A"}</p>
                    <p><strong>Billing Address</strong><br>${customer.address || "N/A"}</p>
                </div>
                <hr>
                <button
                    class="btn ${
                    order.deliveryStatus === "Delivered"
                        ? "btn-secondary"
                        : "btn-success"
                    } w-100 mt-2"
                    id="markDeliveredBtn"
                    ${order.deliveryStatus === "Delivered" ? "disabled" : ""}
                >
                    ${
                    order.deliveryStatus === "Delivered"
                        ? '<i class="fa-solid fa-check me-2"></i>Delivered'
                        : '<i class="fa-solid fa-check me-2"></i>Mark as Delivered'
                    }
                </button>
                </div>
            </div>
            </div>
        `;

        const modal = new bootstrap.Modal(document.getElementById("orderModal"));
        modal.show();

        const deliveredBtn = document.getElementById("markDeliveredBtn");
        if (deliveredBtn && order.deliveryStatus !== "Delivered") {
            deliveredBtn.addEventListener("click", async () => {
            try {
                const res = await fetch(
                `http://localhost:3001/amazon/document/api/orders/${order._id}`,
                {
                    method: "PUT",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ deliveryStatus: "Delivered" }),
                }
                );
                if (!res.ok) throw new Error("Failed to update status");

                order.deliveryStatus = "Delivered";
                deliveredBtn.disabled = true;
                deliveredBtn.classList.replace("btn-success", "btn-secondary");
                deliveredBtn.innerHTML =
                '<i class="fa-solid fa-check me-2"></i>Delivered';
                await loadDistributorOrders();
                Swal.fire({
                icon: "success",
                title: "Order delivered!",
                text: `Order #${order._id} has been marked as delivered.`,
                confirmButtonColor: "#198754",
                });
            } catch (error) {
                console.error(error);
                Swal.fire({
                icon: "error",
                title: "Error",
                text: "Failed to update order status.",
                });
            }
            });
        }
        }

        // âœ… Click event for rows
        document.addEventListener("click", (e) => {
        const row = e.target.closest("tr[data-order-id]");
        if (!row) return;
        const orderId = row.getAttribute("data-order-id");
        const order = window.currentOrders?.find((o) => o._id === orderId);
        if (order) showOrderModal(order);
        });
    </script>













<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/js/all.min.js" integrity="sha512-b+nQTCdtTBIRIbraqNEwsjB6UvL3UEMkXnhzd8awtCYh0Kcsjl9uEgwVFVbhoj3uu1DO1ZMacNvLoyJJiNfcvg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="./index.js"></script>
</body>
</html>
